<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${product.pId != null ? '编辑商品' : '新增商品'}">商品编辑</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: inline-block;
            width: 120px;
            text-align: right;
            margin-right: 10px;
        }
        input, select, textarea {
            width: 300px;
            padding: 5px;
        }
        textarea {
            height: 60px;
        }
        button {
            padding: 8px 20px;
            margin-right: 10px;
            cursor: pointer;
        }
        .msg {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <h1 th:text="${product.pId != null ? '编辑商品' : '新增商品'}">商品编辑</h1>
    
    <div th:if="${msg}" th:class="${success != null && success ? 'msg success' : 'msg error'}" th:text="${msg}"></div>
    
    <form action="/product/save" method="post">
        <input type="hidden" name="pId" th:value="${product.pId}"/>
        
        <div class="form-group">
            <label>商品名称：<span style="color: red;">*</span></label>
            <input type="text" name="pName" th:value="${product.pName}" required/>
        </div>
        
        <div class="form-group">
            <label>商品编码：<span style="color: red;">*</span></label>
            <input type="text" name="pCode" th:value="${product.pCode}" required/>
        </div>
        
        <div class="form-group">
            <label>商品类别：</label>
            <input type="text" name="pCategory" th:value="${product.pCategory}" placeholder="如：电子产品、食品等"/>
        </div>
        
        <div class="form-group">
            <label>单位：</label>
            <select name="pUnit">
                <option value="">请选择</option>
                <option value="个" th:selected="${product.pUnit == '个'}">个</option>
                <option value="箱" th:selected="${product.pUnit == '箱'}">箱</option>
                <option value="件" th:selected="${product.pUnit == '件'}">件</option>
                <option value="包" th:selected="${product.pUnit == '包'}">包</option>
                <option value="盒" th:selected="${product.pUnit == '盒'}">盒</option>
            </select>
        </div>
        
        <div class="form-group">
            <label>单价：<span style="color: red;">*</span></label>
            <input type="number" name="pPrice" step="0.01" min="0" th:value="${product.pPrice}" required/>
        </div>
        
        <div class="form-group">
            <label>库存数量：</label>
            <input type="number" name="stock" min="0" th:value="${product.stock}"/>
        </div>
        
        <div class="form-group">
            <label>供货商：</label>
            <select name="sId">
                <option value="">请选择供货商</option>
                <option th:each="supplier : ${supplierList}" 
                        th:value="${supplier.sId}" 
                        th:selected="${product.sId != null && product.sId == supplier.sId}"
                        th:text="${supplier.sName}"></option>
            </select>
        </div>
        
        <div class="form-group">
            <label>商品状态：</label>
            <select name="pStatus">
                <option value="在售" th:selected="${product.pStatus == null || product.pStatus == '在售'}">在售</option>
                <option value="停售" th:selected="${product.pStatus == '停售'}">停售</option>
            </select>
        </div>
        
        <div class="form-group">
            <label>商品描述：</label>
            <textarea name="pDescription" th:text="${product.pDescription}" placeholder="请输入商品描述"></textarea>
        </div>
        
        <div class="form-group">
            <button type="submit">保存</button>
            <button type="reset">重置</button>
            <a href="/product/list"><button type="button">返回列表</button></a>
        </div>
    </form>
</body>
</html>

